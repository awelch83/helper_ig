const GetFeed=function(e){"use strict";let t;const{updateStatusDiv:n,vueStatus:s}=e;let{end_cursor:a,pageSize:r}=e;function o(e,t,a){console.log(e);const r=e.response?e.response.status:0;if(r>0&&console.log(`error response data - ${e.response.data}/${r}`),console.log(`Error making http request to get your feed, status - ${r}`),instaDefOptions.httpErrorMap.hasOwnProperty(r)){return console.log(`HTTP${r} error trying to get your feed.`,new Date),void function(e,t,a,r){n(e,"red"),instaTimeout.setTimeout(3e3).then(()=>instaCountdown.doCountdown("status",t,"Getting your feed",+(new Date).getTime()+instaDefOptions.retryInterval,s)).then(()=>{console.log("Continue execution after HTTP error",t,new Date),i(a,r)})}(instaMessages.getMessage(instaDefOptions.httpErrorMap[r],r,+instaDefOptions.retryInterval/6e4),r,t,a)}alert(instaMessages.getMessage("ERRFETCHINGUSER",r)),a()}function i(e,n){axios.get("https://www.instagram.com/graphql/query/",{params:{query_hash:instaDefOptions.queryHash.feed,variables:JSON.stringify({fetch_media_item_count:r,fetch_media_item_cursor:a,fetch_comment_count:0,fetch_like:0,has_stories:!1})}},{headers:{"x-instagram-ajax":1,eferer:"https://www.instagram.com/"}}).then(n=>(function(e,n){t=e.data.data.user.edge_web_feed_timeline.page_info.has_next_page,a=e.data.data.user.edge_web_feed_timeline.page_info.end_cursor,n(e.data.data.user.edge_web_feed_timeline.edges)})(n,e),t=>o(t,e,n))}return r=Math.min(r,instaDefOptions.maxPageSizeForFeed),{getFeed:function(e){return e&&(a=null),new Promise((e,t)=>{i(e,t)})},hasMore:function(){return t}}};